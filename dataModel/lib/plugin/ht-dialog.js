!function(M,I){"use strict";function x(I){return o().createElement(I)}function r(){var I=x("div");return I.tabIndex=-1,I.style.outline="none",I}function m(){return x("canvas")}function O(I,t){X(I,"-webkit-transform",t),X(I,"-ms-transform",t),X(I,"transform",t)}function X(I,t,c){I.style.setProperty(t,c,h)}function w(I,t){I.appendChild(t)}function t(){return o().documentElement}function W(){return t().clientWidth}function N(){return t().clientHeight}function K(I){var t=I.touches[0];return t||I.changedTouches[0]}function g(I){this.$1d=I,this.addListeners()}var l=M.ht,n="px",s="left",f="top",F="bottom",$="right",S="innerHTML",_="className",D="width",J="height",U="position",Y="absolute",e="0",E="opacity",u="background",j=l.Default,B=j.getInternal(),c=l.Color,i=j.animate,a=j.isTouchable,k=j.isTouchEvent,h=null,A=(Math.sqrt,M.parseInt),v=M.setTimeout,G=(Math.round,c.titleIconBackground),o=function(){return document},b=B.addEventListener,H=B.removeEventListener;B.addMethod(j,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:G},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:G}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:G},{type:"rect",rect:[10,10,80,20],background:G}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:G},{type:"rect",rect:[10,34,56,14],background:G},{type:"rect",rect:[34,10,56,14],background:G},{type:"rect",rect:[82,10,8,56],background:G},{type:"rect",rect:[66,62,24,8],background:G}]},dialogTitleLabelColor:j.labelSelectColor,dialogTitleLabelFont:(a?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:j.labelFont,dialogTitleBackground:c.titleBackground,dialogHeaderBackground:c.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);j.def(g,I,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(I){var t=this,c=t.$1d,m=c.$6d,g=c._config,c=c.$7d,B=I,M=I.target;c.contains(M)||j.preventDefault(I),j.isLeftButton(I)&&(k(I)&&(B=K(I)),B=t.$8d={x:B.pageX,y:B.pageY},t.$9d={x:B.x,y:B.y},!g.maximized&&g.draggable&&m.contains(M)&&(t.$4d=!0,j.startDragging(t,I)),t.handle_mousemove(I)&&(t.$2d=!0,j.startDragging(t,I)),c.contains(M)||M.focus())},handle_mousedown:function(I){this.handle_touchstart(I)},handle_touchend:function(I){if(j.isLeftButton(I)&&!this.$5d&&!this.$3d){var t=this.$1d,c=I.target,m=t._config,g=t.$18d,B=t.$16d;for(m.closable&&g.contains(c)&&t.hide(),m.maximizable&&B.contains(c)&&(m.maximized?t.restore():t.maximize());c&&(c.className||"").indexOf("dialog-button")<0;)c=c.parentNode;c&&c.buttonItem&&t.action&&t.action(c.buttonItem,I),delete this.$8d,delete this.$9d}},handle_mouseup:function(I){this.handle_touchend(I)},handleWindowTouchEnd:function(I){var t=this,c=t.$1d,m=c.$10d;t.$2d&&t.$3d?m.fire({kind:"endResize",target:c,originEvent:I}):t.$4d&&t.$5d&&m.fire({kind:"endMove",target:c,originEvent:I}),this.clear()},handleWindowMouseUp:function(I){this.handleWindowTouchEnd(I)},handle_mousemove:function(I){var t,c,m=this.$1d._config;return!m.maximized&&(("w"===m.resizeMode||"h"===m.resizeMode||"wh"===m.resizeMode)&&(t={x:(t=(m=this.getView()).querySelector(".resize-area").getBoundingClientRect()).left,y:t.top,width:t.width,height:t.height},c=(I=k(I)?K(I):I).clientX,I=I.clientY,j.containsPoint(t,{x:c,y:I})?(X(m,"cursor","nwse-resize"),!0):void X(m,"cursor","")))},handleWindowTouchMove:function(I){I.preventDefault();var t,c,m,g,B,M,x,O,J,r,w=I,l=(k(I)&&(w=K(I)),this),F=l.$8d,$=l.$9d;$.x==F.x&&$.y==F.y&&j.getDistance($,{x:w.pageX,y:w.pageY})<=1||(t=($=l.$1d)._config,c=$.$21d,r=t.resizeMode||"wh",O=w.pageX-F.x,w=w.pageY-F.y,l.$2d?(m=(g=c.offsetWidth)+O,B=(M=c.offsetHeight)+w,m=Math.max(m,50),B=Math.max(B,50),"center"!==t.position&&t.position!=h||(J={},x=c.getBoundingClientRect(),J.x=x.left,J.y=x.top,t.position=J),"w"===r?($.setSize(m,M),F.x+=m-g):"h"===r?($.setSize(g,B),F.y+=B-M):"wh"===r&&($.setSize(m,B),F.x+=m-g,F.y+=B-M),l.$3d?$.$10d.fire({kind:"betweenResize",target:$,originEvent:I}):(l.$3d=!0,$.$10d.fire({kind:"beginResize",target:$,originEvent:I}))):l.$4d&&(J=(x=c.getBoundingClientRect()).width,r=x.height,m=W(),g=N(),B=A(c.style.left)||0,M=A(c.style.top)||0,(w=$.adjustPosition({x:x=B+O,y:O=M+w},{width:J,height:r},{width:m,height:g}))&&(x=w.x,O=w.y),J=x-B,r=O-M,X(c,s,x+n),X(c,f,O+n),F.x+=J,F.y+=r,t.position={x:x,y:O},l.$5d?$.$10d.fire({kind:"betweenMove",target:$,originEvent:I}):(l.$5d=!0,$.$10d.fire({kind:"beginMove",target:$,originEvent:I}))))},handleWindowMouseMove:function(I){this.handleWindowTouchMove(I)},handleWindowResize:function(){var I=this,t=I._config,c=I.$21d,m=W(),g=N(),B=t.width,M=t.height,x=t.position||"center";t.maximized?(X(c,D,m+n),X(c,J,g+n),X(c,f,e),X(c,s,e)):(X(c,D,B+n),X(c,J,M+n),"center"===x?(X(c,s,(m-B)/2+n),X(c,f,(g-M)/2+n)):(X(c,s,x.x+n),X(c,f,x.y+n))),I.iv()},handle_mousewheel:function(I){I.stopPropagation()},handle_DOMMouseScroll:function(I){I.stopPropagation()}}),l.widget.Dialog=function(I){var t=this,c=t._view=B.createView(null,t),c=(c[_]="ht-widget-dialog",X(c,U,Y),X(c,f,e),X(c,F,e),X(c,s,e),X(c,$,e),X(c,D,"auto"),X(c,J,"auto"),j.baseZIndex!=h&&X(c,"z-index",j.baseZIndex+""),t.$11d=new g(t));t.bindingHandleWindowResize=c.handleWindowResize.bind(t),t.$10d=new l.Notifier,I&&t.setConfig(I)},G="Dialog",c={ms_v:1,ms_fire:1,_modal:!0,setTitle:function(I){this._config.title=I,this.getView().querySelector(".dialog-container-title span").innerHTML=I},clearNodes:function(I){if(I)for(;I.firstChild;)I.removeChild(I.firstChild)},$31d:function(){var I,t=this,c=t.$6d=r(),m=t._config,g=t.$12d=t.$13d(),B=(c[_]="dialog-container-title",X(c,"cursor","default"),X(c,"white-space","nowrap"),X(c,"overflow","hidden"),X(c,"font",j.dialogTitleLabelFont),X(c,u,m.titleBackground||j.dialogTitleBackground),X(c,"color",m.titleColor||j.dialogTitleLabelColor),x("span")),M=t.$25d();return m.titleAlign&&X(c,"text-align",m.titleAlign),m.titleIcon&&(I=t.$14d=t.$15d(),w(c,I)),m.title&&m.title.trim&&(m.title=m.title.trim()),B[S]=m.title||"&nbsp;",w(c,B),m.maximizable&&(I=t.$16d=t.$17d(),w(g,I)),m.closable&&(B=t.$18d=t.$19d(),w(g,B)),w(c,g),X(c,"display","block"),X(c,"line-height",M+n),c},$13d:function(){var I=r();return X(I,U,Y),X(I,s,e),X(I,$,5+n),X(I,f,e),X(I,F,e),X(I,"text-align",$),X(I,"white-space","nowrap"),I[_]="dialog-title-controls",I},$20d:function(){var I=this.$21d=r(),t=this._config,c=t.borderWidth;return X(I,U,"fixed"),X(I,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),X(I,"padding","0 "+c+n+" "+c+n+" "+c+n),X(I,"box-sizing","border-box"),X(I,"-moz-box-sizing","border-box"),I[_]="dialog-container",X(I,u,t.titleBackground||j.dialogTitleBackground),I},$22d:function(){var I,t=this._config,c=this.$7d=r(),m=t.content,g=0,B=t.contentPadding||0,M=(t.buttons!=h&&0<t.buttons.length&&(g=32),"string"==typeof(M=m)||M instanceof String?c[S]=m:m.getView?(I=m.getView(),w(c,I)):w(c,I=m),X(c,U,Y),X(c,"font",j.dialogContentLabelFont),t.width&&X(c,D,t.width-10-2*B+n),l.Default.appendToScreen(c),c.offsetWidth+1),m=c.offsetHeight,x=this.$25d();return t.width==h?t.width=M+10+2*B:X(c,D,"auto"),t.height==h&&(t.height=m+x+g+5+2*B),l.Default.removeHTML(c),I&&(X(I,"box-sizing","border-box"),X(I,"-moz-box-sizing","border-box"),X(I,D,"100%"),X(I,J,"100%")),c[_]="dialog-content",X(c,f,x+B+n),X(c,F,g+B+n),X(c,s,B+n),X(c,$,B+n),X(c,"overflow","hidden"),c},getOverlayDiv:function(){return this.$41d},$23d:function(){if(this.$41d)return this.$41d;var I=this.$41d=r();return I[_]="dialog-overlay",X(I,U,Y),X(I,f,e),X(I,F,e),X(I,s,e),X(I,$,e),X(I,u,"rgba(235, 235, 235, 0.7)"),I},_config:h,setSize:function(I,t){var c=this._config;c&&(c.width=I,c.height=t,this.isShowing()&&(this.bindingHandleWindowResize(),this.iv()))},getConfig:function(){return this._config},$24d:function(){var I=this._config.titleIconSize||16;return a&&(I*=1.2),I},$25d:function(){return this._config.titleHeight||j.widgetTitleHeight},$26d:function(I){var t=this._config;X(I,"margin-right",(t.titleIconGap||(a?8:4))+n),X(I,"cursor","pointer"),X(I,"display","inline-block"),X(I,"vertical-align",f)},$27d:function(){var I=this.$30d=r(),t=a?20:10;return X(I,D,t+n),X(I,J,t+n),X(I,U,Y),X(I,F,e),X(I,$,e),I[_]="resize-area",I},$15d:function(){var I=m(),t=(I[_]="dialog-title-control dialog-title-control-icon",this.$25d()),c=this.$24d();return this.$26d(I),B.setCanvas(I,c,t),I},$17d:function(){var I=m(),t=(I[_]="dialog-title-control dialog-title-control-maximize",this.$25d()),c=this.$24d();return this.$26d(I),B.setCanvas(I,c,t),I},$19d:function(){var I=m(),t=(I[_]="dialog-title-control dialog-title-control-close",this.$25d()),c=this.$24d();return this.$26d(I),B.setCanvas(I,c,t),I},$28d:function(){var I=r();return X(I,u,j.dialogContentBackground||"white"),X(I,D,"100%"),X(I,J,"100%"),X(I,U,"relative"),I},$29d:function(){var M=this,x=r(),I=(X(x,"line-height",32+n),X(x,"font-size",0+n),X(x,U,Y),X(x,F,e),X(x,s,e),X(x,"white-space","nowrap"),X(x,"overflow","hidden"),X(x,$,e),X(x,u,j.dialogHeaderBackground),x[_]="dialog-container-buttons",this._config),O=I.buttonsAlign||$,J=0;return X(x,"text-align",O),M.$42d=[],I.buttons.forEach(function(t){var I,c={};for(I in t)c[I]=t[I];t.background||(c.background=j.dialogButtonBackground),t.selectBackground||(c.selectBackground=j.dialogButtonSelectBackground),t.labelColor||(c.labelColor=j.dialogButtonLabelColor);var m=j.createObject(l.widget.Button,c),g=m.getView(),B=(g[_]="dialog-button "+t.className,g.buttonItem=t,M.$42d.push(m),X(g,U,"relative"),X(g,"display","inline-block"),X(g,"text-align",s),X(g,"height",24+n),a?10:5),B=(O===s||O===$?X(g,"margin-"+O,B+n):0!==J&&X(g,"margin-"+s,B+n),X(g,"vertical-align","middle"),j.getTextSize(m.getLabelFont(),t.label).width+10);m.onClicked=function(I){t.action&&t.action.call(M,t,I)},X(g,D,B+n),w(x,m.getView()),J++}),x},setConfig:function(I){var t,c,m,g,B,M,x,O;I&&(c=(t=this)._view,t._config=I,t.action=I.action,t.clearNodes(c),I.borderWidth==h&&(I.borderWidth=5),O=t.$23d(),m=t.$28d(),g=t.$31d(),B=t.$22d(),M=t.$20d(),x=t.$30d=t.$27d(),w(c,O),w(c,M),w(M,m),w(m,g),w(m,B),I.buttons!=h&&0<I.buttons.length&&(O=t.$29d(),w(m,O)),w(M,x),I.maximized?(I.maximized=!1,t.bindingHandleWindowResize(),t.maximize(!0)):t.bindingHandleWindowResize(),t.isShowing()&&t.iv())},hide:function(){var I=this,t=I.$21d,c=I.$41d,m=I._view;m[_]="ht-widget-dialog",i(t).duration(200).scale(.7).set(E,e).end(function(){I.onHidden&&I.onHidden(),l.Default.removeHTML(m),I.$10d.fire({kind:"hide",target:I})}),i(c).duration(200).set(E,e).end(),H(M,"resize",I.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(I){this._modal=I;this.$23d().style.display=I?"block":"none";var t=this._view;X(t,D,I?"auto":e),X(t,J,I?"auto":e)},isModal:function(){return this._modal},$32d:function(){var I=this,t=I._config,c=I.$21d;O(c,""),I.iv(),t.maximized?I.$10d.fire({kind:"maximize",target:I}):I.$10d.fire({kind:"restore",target:I})},maximize:function(I){var t,c,m,g=this,B=g.$21d,M=g._config;M.maximized||(M.maximized=!0,g.$33d(),g.$16d[_]="dialog-title-control dialog-title-control-minimize",c=M.width,M=M.height,m=A(B.style.left)||0,t=A(B.style.top)||0,g.$36d=c,g.$37d=M,g.$34d=m,g.$35d=t,c=I?0:200,m=(M=this._view.parentNode)&&M!==document.body?this._view.parentNode.getBoundingClientRect():j.getWindowInfo(),i(B).duration(c).set(s,m.left+n).set(f,m.top+n).set(D,m.width+n).set(J,m.height+n).end(function(){g.$32d()}))},restore:function(){var I=this,t=I.$34d,c=I.$35d,m=I.$36d,g=I.$37d,B=I._config;B.maximized&&(B.maximized=!1,I.$33d(),I.$16d[_]="dialog-title-control dialog-title-control-maximize",I.isShowing()&&t!=h&&c!=h&&m!=h&&g!=h&&(B=I.$21d,i(B).duration(200).set(s,t+n).set(f,c+n).set(D,m+n).set(J,g+n).end(function(){I.$32d()}))),delete I.$34d,delete I.$35d,delete I.$36d,delete I.$37d},show:function(I){var t=this,c=t._view,m=t._config,g=t.$21d,B=t.$41d;I=I||m.parentDOM,m&&m.zIndex!=h&&X(c,"z-index",m.zIndex+""),I?l.Default.appendChild(I,c):l.Default.appendToScreen(c),O(g,"scale(0.7)"),X(g,E,e),t.iv(),t.validate(),t._view[_]+=" dialog-show",v(function(){i(g).duration(200).scale(1).set(E,"1").end(function(){X(g,D,g.clientWidth+n),X(g,J,g.clientHeight+n),t.onShown&&t.onShown(),t.$10d.fire({kind:"show",target:t});var I=m&&m.content;I&&I.iv&&I.iv()}),i(B).duration(200).set(E,"1").end(),b(M,"resize",t.bindingHandleWindowResize)},30)},setPosition:function(I){var t=this.$21d;t.style.left=I.x+"px",t.style.top=I.y+"px"},addEventListener:function(I,t,c){this.$10d.add(I,t,c)},removeEventListener:function(I,t){this.$10d.remove(I,t)},$38d:function(I,t,c,m){I=B.initContext(I),B.translateAndScale(I,0,0,1),I.clearRect(0,0,c,c),c=(c-m)/2;j.drawStretchImage(I,j.getImage(t),"fill",0,c,m,m),I.restore()},$33d:function(){var I,t,c=this,m=c._config,g=c.$16d,m=m.maximized?j.dialogRestoreIcon:j.dialogMaximizeIcon;g&&m&&(I=c.$25d(),t=c.$24d(),c.$38d(g,j.getImage(m),I,t))},$39d:function(){var I,t,c=this,m=c._config,g=c.$14d,m=m.titleIcon;g&&m&&(I=c.$25d(),t=c.$24d(),c.$38d(g,j.getImage(m),I,t))},$40d:function(){var I,t,c=this.$18d,m=j.dialogCloseIcon;c&&m&&(I=this.$25d(),t=this.$24d(),this.$38d(c,j.getImage(m),I,t))},invalidate:function(I){var t=this,c=t.$42d,I=(t._68I||(t._68I=1,j.callLater(t.validate,t,h,I),t.onInvalidated&&t.onInvalidated(),t.fireViewEvent("invalidate")),t._config.content);I.invalidate&&I.invalidate(),c&&c.forEach(function(I){I.iv()})},validateImpl:function(){var I=this,t=(I.$40d(),I.$33d(),I.$39d(),I._config.content);t.initView&&(t.setX(0),t.setY(0),t.setWidth(I.$7d.clientWidth),t.setHeight(I.$7d.clientHeight))},adjustPosition:function(I,t,c){var m=t.width,t=t.height,g=c.width,c=c.height,B=I.x,I=I.y,M=this._config,x=M.minDragSize||20;return"inside"===M.dragMode?((B=g<B+m?g-m:B)<0&&(B=0),(I=c<I+t?c-t:I)<0&&(I=0)):null!=M.dragMode&&"none"!==M.dragMode||(g-x<(B=B<-m+x?-m+x:B)&&(B=g-x),(I=c-x<I?c-x:I)<0&&(I=0)),{x:B,y:I}}},j.def(l.widget[G],I,c)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);