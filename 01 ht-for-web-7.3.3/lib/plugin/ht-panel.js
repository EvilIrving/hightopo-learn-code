!function(H,B,W){"use strict";function x(H){return T().createElement(H)}function V(){return x("div")}function m(){return x("canvas")}function g(H,B,z){H.style.setProperty(B,z,o)}function K(H,B){return H.style.getPropertyValue(B)}function Z(H,B){H.appendChild(B)}function X(H){var B=H.scrollWidth,z=H.scrollHeight;return H===T().body&&(B=Math.max(B,T().documentElement.scrollWidth),z=Math.max(z,T().documentElement.scrollHeight)),{width:B,height:z}}function l(H){var B=H.touches[0];return B||H.changedTouches[0]}var I=H.ht,N=I.Default,w=N.isTouchable,O=N.isTouchEvent,z=I.Color,f="px",Q="0",J="innerHTML",y="className",E="position",F="absolute",C="width",p="height",$="left",L="top",M="right",A="bottom",P="max-width",q="max-height",o=null,U="none",r="",s=H.parseInt,h=H.setTimeout,k=N.getInternal(),G=N.animate,H=z.titleIconBackground,T=function(){return document},j=k.addEventListener,H=(k.removeEventListener,k.addMethod(N,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:H,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:H}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:H},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:H}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:H},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:H}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:H},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:H},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:H},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:H}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:H},{type:"rect",rect:[10,118,268,56],background:H},{type:"rect",rect:[10,213,268,56],background:H}]},panelTitleLabelColor:N.labelSelectColor,panelTitleLabelFont:N.labelFont,panelContentLabelFont:N.labelFont,panelTitleBackground:z.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:W},!0),I.widget.Panel=function(H){var w=this,B=w._view=k.createView(null,w);w.$1i=0,w.$18i=new I.Notifier,w.$2i="leftTop",g(B,L,Q),g(B,$,Q),g(B,E,F),g(B,"overflow","hidden"),w._interactor=new d(w),w.setConfig(H),w.addEventListener(function(H){var B=w.getPanelConfig(H.id),z=B.content;"beginRestore"!==H.kind&&"betweenResize"!==H.kind&&"endToggle"!==H.kind||(z&&z.invalidate&&z.invalidate(),B.items&&B.items.forEach(function(H){H&&H.content&&H.content.invalidate&&H.content.invalidate()}))})}),d=(N.def(H,B,{ms_v:1,_dragContainment:"parent",setConfig:function(H){if(H){for(var B=this,z=B._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);B._config=H,B.$35i=[],H.expanded==o&&(H.expand!=o?H.expanded=H.expand:H.expanded=!0);var w=B._view,j=B.$24i(H,w,!0),d=j[2],W=H.width,j=(B.$35i.push(j[1]),H.items&&H.items.forEach(function(H){H.expanded==o&&(H.expand!=o?H.expanded=H.expand:H.expanded=!0);H=B.$24i(H,d.children[0]);B.$35i.push(H[1])}),V()),j=(g(j,C,10+f),g(j,p,10+f),g(j,E,F),g(j,A,Q),g(j,M,Q),j[y]="resize-area",Z(w,j),B.$10i(),H.flowLayout&&g(w,E,"relative"),g(w,"opacity",Q),Z(T().body,w),W==o&&(W=w.offsetWidth),g(w,C,W+f),g(w,P,W+f),H.content);j&&j.isSelfViewEvent&&(j.setX(0),j.setY(0),j.setWidth(W-2*(H.borderWidth||0)),j.setHeight(H.contentHeight)),H.items&&H.items.forEach(function(H){D(H)}),H.buttons&&H.buttons.indexOf("toggle")<0||D(H),H.minimized==o&&H.minimize!=o&&(H.minimized=H.minimize),H.minimized&&!1!==H.minimizable&&B.minimize(!0),T().body.removeChild(w),g(w,"opacity",r),z&&Z(z,w),B.iv()}function D(H){H.expanded=!H.expanded,B.togglePanel(H.id,!0,!0)}},getPanelConfig:function(H){var B=this._config,z=B.items;if(B.id===H)return B;if(z)for(var w=0;w<z.length;w++){var j=z[w];if(j.id===H)return j}},getPanelView:function(H){for(var B=this.$35i,z=0;z<B.length;z++){var w=B[z].parentNode;if(w.$15i===H)return w}},setDragContainment:function(H){this._dragContainment=H},getDragContainment:function(){return this._dragContainment},$20i:function(){return this._config.restoreIconSize||24},$5i:function(H){H=H.titleIconSize||16;return w&&(H*=1.2),H},$4i:function(H){return H.titleHeight||N.widgetTitleHeight},setTitle:function(H,B){var z;(B=B==o?this._config.id:B)!=o&&(z=this.getPanelConfig(B),B=this.getPanelView(B),z.title=H,B.querySelector(".panel-title span").innerHTML=H)},setInnerPanel:function(H){var B,z=this,w=H.id,j=z.$35i,d=!1;if(H.expanded==o&&(H.expanded=!0),w!=o){var W=z.getPanelConfig(w);if(W){var D,d=!0,w=z.getPanelView(w),T=w.parentNode,i=w.children[0];if(w!==z._view){for(D in z.$11i(),W)delete W.key;for(D in H)W[D]=H[D];B=z.$24i(H,T,!1,w)[1],T.removeChild(w);for(var I=0;I<j.length;I++)if(j[I]===i){j.splice(I,1,B);break}z.$12i(),W.expanded=!W.expanded,z.togglePanel(W.id,!0,!0),z.iv()}}}d||(z.$11i(),B=z.$24i(H,z._view.children[1])[1],j.push(B),z._config.items||(z._config.items=[]),(T=z._config.items).push(H),z.$12i(),1<T.length&&(w=T[T.length-2],d=z.getPanelView(w.id).children[0],g(d,"border-bottom",z.$55i(w))),H.expanded=!H.expanded,z.togglePanel(H.id,!0,!0),z.iv())},removeInnerPanel:function(H){var B,z=this,w=-1,j=z._config.items;if(j)for(T=0;T<j.length;T++)if(j[T].id===H){w=T;break}if(z.$11i(),0<=w){for(var d=z.$35i,W=z.getPanelView(H),D=W.children[0],T=0;T<d.length;T++)if(d[T]===D){d.splice(T,1);break}j.splice(w,1),W.parentNode.removeChild(W)}z.$12i(),0<j.length&&(W=j[j.length-1],B=z.getPanelView(W.id).children[0],g(B,"border-bottom",z.$55i(W)))},$6i:function(H){g(H,"cursor","pointer"),g(H,"display","inline-block"),g(H,"margin-right",(w?8:4)+f),g(H,"vertical-align",L)},$24i:function(H,B,z,w){var j=this,d=j._config.flowLayout,W=z?B:V(),D=j.$50i(H),T=j.$3i(H,z),i=(W[y]="ht-widget-panel"+(z?" outer-panel":" inner-panel"),H.borderWidth==o&&(H.borderWidth=z?2:0),H.borderWidth),z=(g(W,"border-width","0 "+i+f+" "+i+f+" "+i+f+" "),g(W,"border-color",H.titleBackground||N.panelTitleBackground),g(W,"border-style","solid"),Z(W,T),Z(W,D),z||(w?B.insertBefore(W,w):Z(B,W)),!d&&z&&!1!==H.minimizable&&(i=m(),w=j.$20i(),d=H.restoreToolTip,k.setCanvas(i,w,w),i[y]="control-button button-minimize button-minimize-restore",j.$6i(i),g(i,"display","none"),Z(B,i),i.title=d||""),H.panelBackground||H.titleBackground||N.panelTitleBackground);if(g(W,"background-color",z),H.id==o){for(var I=j.$1i++;j.getPanelConfig(I);)I=j.$1i++;H.id=I}return W.$15i=H.id,H.width&&(W.style.width=H.width+f),[W,T,D]},$9i:function(H){var B=m(),z=(B[y]="control-button button-toggle button-toggle-expand",B.title=H.toggleToolTip||"",this.$4i(H)),H=this.$5i(H);return this.$6i(B),k.setCanvas(B,H,z),B},$8i:function(H){var B=m(),z="control-button button-independent-switch",z=(!0===H.independent?B[y]=z+" button-independent-switch-on":B[y]=z+" button-independent-switch-off",B.title=H.independentSwitchToolTip||"",this.$4i(H)),H=this.$5i(H);return this.$6i(B),k.setCanvas(B,H,z),B},$7i:function(H){var B=m(),z=(B[y]="control-button button-minimize button-minimize-minimize",B.title=H.minimizeToolTip||"",this.$4i(H)),H=this.$5i(H);return this.$6i(B),k.setCanvas(B,H,z),B},$55i:function(H){var B=this._config,z=B.items,w=H.separatorWidth||N.panelSeparatorWidth,j=H.titleBackground||N.panelTitleBackground,j=!1!==H.expanded?j:H.separatorColor||N.panelSeparatorColor||N.brighter(j);return(w=B===H||z&&z.indexOf(H)===z.length-1?0:w)+f+" solid "+j},$3i:function(B,z){function H(){var H=W.$9i(B);Z(i,H)}function w(){var H;!D&&z&&!1!==B.minimizable&&(H=W.$7i(B),Z(i,H))}var j,d,W=this,D=W._config.flowLayout,T=V(),i=V(),I=W.$4i(B),c=B.titleBackground,S=B.titleColor,a=B.titleIcon,_=B.buttons,a=(T[y]="panel-title",g(T,E,"relative"),g(T,"background",c||N.panelTitleBackground),g(T,"color",S||N.panelTitleLabelColor),g(T,L,Q),g(T,"box-sizing","border-box"),g(T,"-moz-box-sizing","border-box"),g(T,"padding","0 5px 0 0"),g(T,C,"100%"),g(T,"cursor","default"),g(T,"white-space","nowrap"),g(T,"font",N.panelTitleLabelFont),a&&((c=m())[y]="control-button panel-title-icon",S=W.$4i(B),a=W.$5i(B),W.$6i(c),k.setCanvas(c,a,S),Z(T,c)),x("span"));g(a,"display","inline-block"),g(a,"margin-left","5px"),a[J]="<span>"+B.title+"</span>",Z(T,a),g(T,"line-height",I+f),i[y]="panel-title-controls",g(i,E,F),g(i,$,Q),g(i,M,5+f),g(i,L,Q),g(i,A,Q),g(i,"text-align",M);if(_)for(var R=0;R<_.length;R++){var t=_[R];"string"==typeof t?"minimize"===t?w():"independentSwitch"===t?(d=void 0,z||(d=W.$8i(B),Z(i,d))):"toggle"===t&&H():"object"==typeof t&&(d=t,j=t=void 0,(t=m())[y]="control-button custombutton-"+d.name,t.title=d.toolTip||"",t._action=d.action,d=W.$4i(B),j=W.$5i(B),W.$6i(t),k.setCanvas(t,j,d),Z(i,t))}else w(),H();return Z(T,i),T},$50i:function(H){var B,z=V(),w=H.contentHeight,j=V(),d=(g(j,E,"relative"),z[y]="panel-body",g(z,"overflow","hidden"),H.contentBackground);return g(z,"background",d=d===W?"white":d),g(z,"font",N.panelContentLabelFont),Z(z,j),H.content&&((d=H.content).getView?(Z(j,d.getView()),B=j.children[0]):d instanceof Element?(Z(j,d),B=j.children[0]):j[J]=d,d.isSelfViewEvent||B&&(g(B,C,"100%"),g(B,p,"100%")),w&&g(j,p,w+f)),z},$10i:function(){var H=this._config,B=this._view.querySelector(".resize-area").style;H.flowLayout||!0===H.minimized||!1===H.expanded?B.display=U:B.display="block"},$11i:function(){var H=this._view,B=H.children[1];0<=this.$13i?this.$13i++:this.$13i=1,g(B,q,r),g(H,P,r)},$12i:function(){var H,B;0==--this.$13i&&(B=(H=this._view).children[1],g(B,q,B.scrollHeight+f),g(H,P,H.offsetWidth+f))},$14i:function(){var H=this._view,B=H.children[0],z=B.children[1].children,w=this._config,j=0;H.$26i=H.offsetWidth,j+=B.children[0].offsetWidth,w.titleIcon&&(j+=B.children[1].offsetWidth,z=B.children[2].children);for(var d=0;d<z.length;d++)j+=z[d].offsetWidth+5;H.$51i=j+15},togglePanel:function(H,B,z){var w=this,j=w._view,d=j.children[1],W=o,D=w.$35i,T=D.length,i=w._config.exclusive,I=w.$2i,c=[],S=w._config.narrowWhenCollapse;function a(H){var H=H.target,B=H.parentNode,z=w.getPanelConfig(B.$15i);delete B.$19i,H!==d&&w.$12i(),w.$18i.fire({kind:"endToggle",target:w,id:z.id})}for(var _,R,t,x=0;x<T;x++){var V=D[x].parentNode,m=V.$15i,Z=w.getPanelConfig(m);m===H&&(W=V),!B&&i&&Z.expanded&&V!==j&&m!==H&&!0!==Z.independent&&c.push(V)}W&&!W.$19i&&(W.$19i=!0,_=W.children[1],R=W.querySelector(".button-toggle"),t=w.getPanelConfig(W.$15i),R&&(W===j||t.expanded||!0===t.independent||c.forEach(function(H){w.togglePanel(H.$15i,!0)}),W!==j&&w.$11i(),z=z?0:200,w.$18i.fire({kind:"beginToggle",target:w,id:W.$15i}),t.expanded?(S&&W===j&&w.$14i(),R[y]="control-button button-toggle",0<=I.indexOf("Bottom")?R[y]+=" button-toggle-expand":R[y]+=" button-toggle-collapse",g(_,C,_.clientWidth+f),t.expanded=!1,g(W.children[0],"border-bottom",w.$55i(t)),G(_).duration(z).set("opacity",Q).set(q,Q).end(a),S&&W===j&&G(W).duration(z).set(P,W.$51i+f).end(),W[y]+=" panel-collapse",G(W).duration(z).set("padding-bottom",Q).end()):(R[y]="control-button button-toggle",0<=I.indexOf("Bottom")?R[y]+=" button-toggle-collapse":R[y]+=" button-toggle-expand",g(_,C,r),t.expanded=!0,g(W.children[0],"border-bottom",w.$55i(t)),G(_).duration(z).set("opacity","1").set(q,_.scrollHeight+f).end(a),S&&W===j&&G(W).duration(z).set(P,(W.$26i||W.offsetWidth)+f).end(),W[y]=W[y].replace(" panel-collapse",r),G(W).duration(z).end()),w.$28i(t,!0),w.$10i()))},$16i:function(){var H=this._view,B=H.$22i,z=H.$23i,w=this.$2i;return B==o&&(0<=w.indexOf($)?B=H.$22i=0:0<=w.indexOf(M)&&(B=H.$22i=100)),z==o&&(0<=w.indexOf("Top")?z=H.$23i=0:0<=w.indexOf("Bottom")&&(z=H.$23i=100)),[B,z]},$25i:function(){var H=this,B=H._view,z=B.$21i,w=H.$20i(),j=H.$16i(),d=j[0],j=j[1],W=H.$2i;B.children[0].style.display=U,B.children[1].style.display=U,B.children[2].style.display=r,g(B,"padding",Q),g(B,P,w+f),"leftTop"===W?(g(B,$,s(K(B,$))+(z.width-w)*d/100+f),g(B,L,s(K(B,L))+(z.height-w)*j/100+f)):"leftBottom"===W?(g(B,$,s(K(B,$))+(z.width-w)*d/100+f),g(B,A,s(K(B,A))+(z.height-w)*(1-j/100)+f)):"rightTop"===W?(g(B,M,s(K(B,M))+(z.width-w)*(1-d/100)+f),g(B,L,s(K(B,L))+(z.height-w)*j/100+f)):"rightBottom"===W&&(g(B,M,s(K(B,M))+(z.width-w)*(1-d/100)+f),g(B,A,s(K(B,A))+(z.height-w)*(1-j/100)+f)),B[y]+=" panel-minimized",H.$18i.fire({kind:"endMinimize",target:H,id:B.$15i})},$17i:function(){var H=this,B=H._config,z=H._view;g(z,"-webkit-transform",r),g(z,"-ms-transform",r),g(z,"transform",r),B.minimized?H.$25i():(H.$18i.fire({kind:"endRestore",target:H,id:B.id}),z[y]=z[y].replace(" panel-minimized",r)),delete z.$19i},minimize:function(H){var B,z,w,j,d,W,D=this,T=D._view;T.$19i||T.children[0].style.display!==U&&(B=D._config,W=T.getBoundingClientRect(),z=(w=D.$20i())/W.width,w=w/W.height,j=(d=D.$16i())[0],d=d[1],T.$52i=z,T.$53i=w,T.$21i=W,D.$18i.fire({kind:"beginMinimize",target:D,id:T.$15i}),W=H?0:200,B.minimized=!0,T.$19i=!0,B.expanded&&(T.$26i=T.offsetWidth),g(T,"-webkit-transform-origin",H=j+"% "+d+"%"),g(T,"-ms-transform-origin",H),g(T,"transform-origin",H),G(T).duration(W).scale(z,w).end(function(){D.$17i()}),D.$10i())},restore:function(){var H,B,z,w,j,d,W,D,T,i,I,c,S,a,_,R,t,x=this,V=x._view,m=V.parentNode,Z=x._config;V.$19i||Z.minimized&&(S=V.$21i,a=V.$52i,_=V.$53i,Z.borderWidth,R=x.$20i(),m=X(m),"leftTop"===(t=x.$2i)?(H=s(K(V,$)),W=z=s(K(V,L)),0<(T=(j=H)+S.width-m.width)&&(H<=T?H=0:H-=T),0<(i=z+S.height-m.height)&&(z<=i?z=0:z-=i),I=(j-H)/(S.width-R)*100,c=(W-z)/(S.height-R)*100,g(V,$,H+f),g(V,L,z+f)):"leftBottom"===t?(H=s(K(V,$)),D=w=s(K(V,A)),0<(T=(j=H)+S.width-m.width)&&(H<=T?H=0:H-=T),0<(i=w+S.height-m.height)&&(w<=i?w=0:w-=i),I=(j-H)/(S.width-R)*100,c=100*(1-(D-w)/(S.height-R)),g(V,$,H+f),g(V,A,w+f)):"rightTop"===t?(B=s(K(V,M)),W=z=s(K(V,L)),0<(T=(d=B)+S.width-m.width)&&(B<=T?B=0:B-=T),0<(i=z+S.height-m.height)&&(z<=i?z=0:z-=i),I=100*(1-(d-B)/(S.width-R)),c=(W-z)/(S.height-R)*100,g(V,M,B+f),g(V,L,z+f)):"rightBottom"===t&&(B=s(K(V,M)),D=w=s(K(V,A)),0<(T=(d=B)+S.width-m.width)&&(B<=T?B=0:B-=T),0<(i=w+S.height-m.height)&&(w<=i?w=0:w-=i),I=100*(1-(d-B)/(S.width-R)),c=100*(1-(D-w)/(S.height-R)),g(V,M,B+f),g(V,A,w+f)),V.children[0].style.display="block",V.children[1].style.display="block",V.children[2].style.display=U,g(V,"-webkit-transform","scale("+a+", "+_+")"),g(V,"-ms-transform","scale("+a+", "+_+")"),g(V,"transform","scale("+a+", "+_+")"),V.$22i=I,V.$23i=c,g(V,"-webkit-transform-origin",I+"% "+c+"%"),g(V,"-ms-transform-origin",I+"% "+c+"%"),g(V,"transform-origin",I+"% "+c+"%"),Z.narrowWhenCollapse&&!Z.expanded?g(V,P,V.$51i+f):g(V,P,V.$26i+f),x.$18i.fire({kind:"beginRestore",target:x,id:V.$15i}),V.$19i=!0,Z.minimized=!1,h(function(){G(V).scale(1,1).end(function(){x.$17i()})},30),x.$10i())},addEventListener:function(H,B,z){this.$18i.add(H,B,z)},removeEventListener:function(H,B){this.$18i.remove(H,B)},setPosition:function(H,B){var z=this._view,w=this.$2i;"leftTop"===w?(g(z,$,H+f),g(z,L,B+f),g(z,M,r),g(z,A,r)):"leftBottom"===w?(g(z,$,H+f),g(z,A,B+f),g(z,M,r),g(z,L,r)):"rightTop"===w?(g(z,M,H+f),g(z,L,B+f),g(z,$,r),g(z,A,r)):"rightBottom"===w&&(g(z,M,H+f),g(z,A,B+f),g(z,$,r),g(z,L,r)),delete z.$22i,delete z.$23i},getPosition:function(){var H=this._view,B=this.$2i;return"leftTop"===B?{x:s(K(H,$)),y:s(K(H,L))}:"leftBottom"===B?{x:s(K(H,$)),y:s(K(H,A))}:"rightTop"===B?{x:s(K(H,M)),y:s(K(H,L))}:"rightBottom"===B?{x:s(K(H,M)),y:s(K(H,A))}:void 0},setPositionRelativeTo:function(H){var B=this,z=B._view.querySelectorAll(".button-toggle"),w="control-button button-toggle",j=B.getPosition();B.$2i=H,B.setPosition(j.x,j.y);for(var d=0;d<z.length;d++){var W=z[d];B.getPanelConfig(W.parentNode.parentNode.parentNode.$15i).expanded?0<=H.indexOf("Bottom")?W[y]=w+" button-toggle-collapse":W[y]=w+" button-toggle-expand":0<=H.indexOf("Bottom")?W[y]=w+" button-toggle-expand":W[y]=w+" button-toggle-collapse"}B.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(H){var B=this,H=(B._68I||(B._68I=1,N.callLater(B.validate,B,o,H),B.onInvalidated&&B.onInvalidated(),B.fireViewEvent("invalidate")),this._config),B=H.content;B&&B.invalidate&&B.invalidate(),H.items&&H.items.forEach(function(H){H&&H.content&&H.content.invalidate&&H.content.invalidate()})},getIconStretch:function(H){return this._config.iconStretch||"fill"},$27i:function(H,B,z,w,j){H=k.initContext(H),k.translateAndScale(H,0,0,1),H.clearRect(0,0,z,z),z=(z-w)/2;N.drawStretchImage(H,N.getImage(B),this.getIconStretch(j),0,z,w,w),H.restore()},$28i:function(H){var B=this,z=H.id,z=B.getPanelView(z).querySelector(".button-toggle"),w=0<=B.$2i.indexOf("Bottom"),j=w?N.panelCollapseIcon:N.panelExpandIcon,w=w?N.panelExpandIcon:N.panelCollapseIcon;z&&(w=H.expanded?N.getImage(w):N.getImage(j),j=B.$4i(H),H=B.$5i(H),B.$27i(z,w,j,H,"toggle"))},$29i:function(H){var B=H.id,B=this.getPanelView(B).querySelector(".button-independent-switch"),z=N.panelUnLockIcon,w=N.panelLockIcon;B&&(w=!0!==H.independent?N.getImage(w):N.getImage(z),z=this.$4i(H),H=this.$5i(H),this.$27i(B,w,z,H,"switch"))},$30i:function(H){var B,z=H.id,z=this.getPanelView(z).querySelector(".button-minimize-minimize"),w=N.panelMinimizeIcon;z&&(B=this.$4i(H),H=this.$5i(H),this.$27i(z,N.getImage(w),B,H,"miminize"))},$31i:function(H){var B,z=H.id,z=this.getPanelView(z).querySelector(".button-minimize-restore"),H=H.titleIcon||N.panelRestoreIcon;z&&(B=this.$20i(),this.$27i(z,N.getImage(H),B,B,"restore"))},$32i:function(j){var d=this,H=j.id,W=d.getPanelView(H);j.buttons&&j.buttons.forEach(function(H){var B,z,w=H.name,H=H.icon;w&&H&&((w=W.querySelector(".custombutton-"+w))&&(B=d.$4i(j),z=d.$5i(j)-1,d.$27i(w,N.getImage(H),B,z,"custom")))})},$33i:function(H){var B,z=H.id,z=this.getPanelView(z).querySelector(".panel-title-icon"),w=H.titleIcon;z&&w&&(B=this.$4i(H),H=this.$5i(H),this.$27i(z,N.getImage(w),B,H,"title"))},validateImpl:function(){var B=this,H=B._config;B.$28i(H),B.$30i(H),B.$31i(H),B.$32i(H),B.$33i(H),H.items&&H.items.forEach(function(H){B.$28i(H),B.$29i(H),B.$32i(H)})},setWidth:function(H){var B=this,z=B._view,w=B._config;B._view.style.width=H+f,w&&(w.width=H,g(z,P,r)),B.iv(),B.fp&&B.fp(C,o,H)},setHeight:function(H){var B=this,z=B._config,w=B._view.children[1],j=B.$4i(z);H=Math.max(j,H-j),z&&(z.contentHeight=H),w&&((j=w.children[0])&&g(j,p,H+f),g(w,q,r)),B.iv(),B.fp&&B.fp(p,o,H)}}),function(H){var B=H.getView();this.$34i=H,this.addListeners(),j(B,"dblclick",this.$42i.bind(this))}),z=(N.def(d,B,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(H){for(var B=this.$34i,z=H.target,w=B.$35i,j=w.length,d=0;d<j;d++){var W=w[d];W.contains(z)&&(H.preventDefault(),B.togglePanel(W.parentNode.$15i))}},handle_touchstart:function(H){var B,z,w,j=this,d=j.$34i,W=d._config.flowLayout,D=H;N.isLeftButton(H)&&(B=H.target,z=d.getView().children[0],w=d.getView().querySelector(".button-minimize-restore"),O(H)&&(D=l(H)),D=j.$40i={x:D.pageX,y:D.pageY},j.$41i={x:D.x,y:D.y},(!W&&z.contains(B)||w&&w.contains(B))&&(j.$38i=!0,N.startDragging(j,H)),!W&&j.handle_mousemove(H)&&(j.$37i=!0,N.startDragging(j,H),d.$11i()))},handle_mousedown:function(H){this.handle_touchstart(H)},handle_touchend:function(H){var B=this,z=B.$34i,w=H.target,j=z.$35i,d=j.length,W=0,D=z.getView(),T=D.querySelector(".button-minimize"),D=D.querySelector(".button-minimize-restore");if(!B.$39i&&!B.$36i){if(T&&T.contains(w)||D&&D.contains(w))H.preventDefault(),z._config.minimized?z.restore():z.minimize();else for(;W<d;W++){var i,I=j[W],c=I.parentNode.$15i,S=z.getPanelConfig(c),a=I.querySelector(".button-toggle"),_=I.querySelector(".button-independent-switch");a===w?(H.preventDefault(),z.togglePanel(c)):_===w?(H.preventDefault(),a="button-independent-switch-off",i="button-independent-switch-on",S.independent==o?S.independent=!0:S.independent=!S.independent,S.independent?_[y]=_[y].replace(a,i):_[y]=_[y].replace(i,a),z.$29i(S)):w[y]&&0<=w[y].indexOf("control-button custombutton-")&&I.contains(w)&&w._action.call(z,S,z.getPanelView(c),H)}delete B.$40i,delete B.$41i}},handle_mouseup:function(H){this.handle_touchend(H)},handleWindowTouchEnd:function(H){var B=this,z=B.$34i;B.$37i&&B.$36i?(z.$18i.fire({kind:"endResize",target:z,id:z.getView().$15i}),z.$12i()):B.$38i&&B.$39i&&z.$18i.fire({kind:"endMove",target:z,id:z.getView().$15i}),this.clear()},handleWindowMouseUp:function(H){this.handleWindowTouchEnd(H)},handle_mousemove:function(H){var B=this.getView(),z=B.querySelector(".resize-area").getBoundingClientRect(),z={x:z.left,y:z.top,width:z.width,height:z.height},w=(H=O(H)?l(H):H).clientX,H=H.clientY,j=this.$34i._config;if(j.expanded&&!0!==j.minimized&&N.containsPoint(z,{x:w,y:H}))return B.style.cursor="nwse-resize",!0;B.style.cursor=r},handleWindowTouchMove:function(H){H.preventDefault();var B,z,w,j,d,W,D,T,i,I,c,S,a,_,R,t,x,V,m,Z,Q,y,E=H,H=(O(H)&&(E=l(H)),this),F=H.$40i,P=H.$41i;P.x==F.x&&P.y==F.y&&N.getDistance(P,{x:E.pageX,y:E.pageY})<=1||(P=H.$34i,z=(B=H.getView()).parentNode,S=(w=P._config).resizeMode||"wh",j=E.pageX-F.x,d=E.pageY-F.y,W=P.$2i,H.$37i?(D=B.children[1].children[0],T=(i=B.offsetWidth)+j,I=(c=D.offsetHeight)+d,T=Math.max(T,100),I=Math.max(I,100),"w"===S?(g(B,C,T+f),w.width=T):"h"===S?(g(D,p,I+f),w.contentHeight=I):"wh"===S&&(g(B,C,T+f),g(D,p,I+f),w.width=T,w.contentHeight=I),0<=W.indexOf("right")&&g(B,M,s(K(B,M))-(T-i)+f),0<=W.indexOf("Bottom")&&g(B,A,s(K(B,A))-(I-c)+f),F.x=E.pageX,F.y=E.pageY,(S=w.content)&&S.isSelfViewEvent&&(S.setX(0),S.setY(0),S.setWidth(w.width-2*(w.borderWidth||0)),S.setHeight(w.contentHeight)),H.$36i?P.$18i.fire({kind:"betweenResize",target:P,id:P.getView().$15i}):(H.$36i=!0,P.$18i.fire({kind:"beginResize",target:P,id:P.getView().$15i}))):H.$38i&&(T=(D=B.getBoundingClientRect()).width,i=D.height,c=(I=X(z)).width,E=I.height,S=P._dragContainment,"leftTop"===W?(x=(a=s(K(B,$))||0)+j,m=(R=s(K(B,L))||0)+d,"parent"===S&&((x=c<x+T?c-T:x)<0&&(x=0),(m=E<m+i?E-i:m)<0&&(m=0)),Q=x-a,y=m-R,P.setPosition(x,m),F.x+=Q,F.y+=y):"rightBottom"===W?(V=(_=s(K(B,M))||0)-j,Z=(t=s(K(B,A))||0)-d,"parent"===S&&(c<(V=V<0?0:V)+T&&(V=c-T),E<(Z=Z<0?0:Z)+i&&(Z=E-i)),Q=V-_,y=Z-t,P.setPosition(V,Z),F.x-=Q,F.y-=y):"rightTop"===W?(V=(_=s(K(B,M))||0)-j,m=(R=s(K(B,L))||0)+d,"parent"===S&&(c<(V=V<0?0:V)+T&&(V=c-T),E<(m=m<0?0:m)+i&&(m=E-i)),Q=V-_,y=m-R,P.setPosition(V,m),F.x-=Q,F.y+=y):"leftBottom"===W&&(x=(a=s(K(B,$))||0)+j,Z=(t=s(K(B,A))||0)-d,"parent"===S&&(c<(x=x<0?0:x)+T&&(x=c-T),E<(Z=Z<0?0:Z)+i&&(Z=E-i)),Q=x-a,y=Z-t,P.setPosition(x,Z),F.x+=Q,F.y-=y),H.$39i?P.$18i.fire({kind:"betweenMove",target:P,id:P.getView().$15i}):(H.$39i=!0,P.$18i.fire({kind:"beginMove",target:P,id:P.getView().$15i}))))},handleWindowMouseMove:function(H){this.handleWindowTouchMove(H)}}),I.widget.PanelGroup=function(H){var B=this,z=B._view=k.createView(null,B);z.style.border="1px dashed black",z.style.position="absolute",z.style.background="rgba(120, 120, 120, 0.4)",B.$48i=new I.List,B._tolerance=100,B._config=H||{hGap:0,vGap:0},B.bindHandlePanelMove=B.handlePanelMove.bind(B),B.bindHandlePanelEvent=B.handlePanelEvent.bind(B),B.invalidate()});N.def(z,B,{invalidate:function(){var H=this;H._68I||(H._68I=1,h(function(){H.validate()},50))},validate:function(){var H;this._68I&&(delete this._68I,(H=this.$48i.get(0))&&(H=H.getView().parentNode)&&(this.layoutPanels(H,"leftTop"),this.layoutPanels(H,"rightTop"),this.layoutPanels(H,"leftBottom"),this.layoutPanels(H,"rightBottom")))},setLeftTopPanels:function(){var H=this.$43i,B=this.$48i;H==o&&(H=this.$43i=new I.List);for(var z=0;z<arguments.length;z++){var w=arguments[z];"string"==typeof w?H.$49i=w:w._config.flowLayout||(w.setPositionRelativeTo("leftTop"),H.contains(w)||H.add(w),B.contains(w)||this.add(w))}},setRightTopPanels:function(){var H=this.$44i,B=this.$48i;H==o&&(H=this.$44i=new I.List);for(var z=0;z<arguments.length;z++){var w=arguments[z];"string"==typeof w?H.$49i=w:w._config.flowLayout||(w.setPositionRelativeTo("rightTop"),H.contains(w)||H.add(w),B.contains(w)||this.add(w))}},setLeftBottomPanels:function(){var H=this.$45i,B=this.$48i;H==o&&(H=this.$45i=new I.List);for(var z=0;z<arguments.length;z++){var w=arguments[z];"string"==typeof w?H.$49i=w:w._config.flowLayout||(w.setPositionRelativeTo("leftBottom"),H.contains(w)||H.add(w),B.contains(w)||this.add(w))}},setRightBottomPanels:function(){var H=this.$46i,B=this.$48i;H==o&&(H=this.$46i=new I.List);for(var z=0;z<arguments.length;z++){var w=arguments[z];"string"==typeof w?H.$49i=w:w._config.flowLayout||(w.setPositionRelativeTo("rightBottom"),H.contains(w)||H.add(w),B.contains(w)||this.add(w))}},add:function(H){var B;H._config.flowLayout||((B=this.$48i).contains(H)||(H.addEventListener(this.bindHandlePanelMove),H.addEventListener(this.bindHandlePanelEvent),B.add(H)))},remove:function(H){var B=this,z=B.$48i;z.contains(H)&&(H.removeEventListener(B.bindHandlePanelMove),H.removeEventListener(B.bindHandlePanelEvent),z.remove(H),B.$43i.contains(H)&&B.$43i.remove(H),B.$44i.contains(H)&&B.$44i.remove(H),B.$45i.contains(H)&&B.$45i.remove(H),B.$46i.contains(H)&&B.$46i.remove(H))},layoutPanels:function(H,B,z){var w=this,j=w._config,d=j.hGap||0,W=j.vGap||0;if(H){var D=w.$43i;if("leftBottom"===B?D=w.$45i:"rightTop"===B?D=w.$44i:"rightBottom"===B&&(D=w.$46i),D){var T=D.$49i,i=d,I=W;if(H.contains(w._view)&&H.removeChild(w._view),D&&0<D.size())for(var c=0;c<D.size();c++){var S=D.get(c),a=S.getView();H=H||a.parentNode,z!==c?S.setPosition(i,I):("leftTop"===B?(w._view.style.right="",w._view.style.bottom="",w._view.style.left=i+f,w._view.style.top=I+f):"leftBottom"===B?(w._view.style.right="",w._view.style.top="",w._view.style.left=i+f,w._view.style.bottom=I+f):"rightTop"===B?(w._view.style.left="",w._view.style.bottom="",w._view.style.right=i+f,w._view.style.top=I+f):"rightBottom"===B&&(w._view.style.left="",w._view.style.top="",w._view.style.right=i+f,w._view.style.bottom=I+f),w._view.style.width=a.offsetWidth+f,w._view.style.height=a.offsetHeight+f,H.insertBefore(w._view,a)),"h"===T?i+=a.offsetWidth+d:"v"===T&&(I+=a.offsetHeight+W)}}}},handlePanelEvent:function(H){var B,z,w,j,d,W,D,T,i,I,c,S,a;"beginToggle"!==H.kind&&"endToggle"!==H.kind&&"beginRestore"!==H.kind&&"endMinimize"!==H.kind&&"endResize"!==H.kind||(B=this,z=H.target,w=z.getView().parentNode,c=B.$43i,j=B.$44i,a=B.$45i,d=B.$46i,W=B._config,T=D=o,(i=z.$47i)==o&&(i=z.$47i=0),"beginToggle"===H.kind?i=z.$47i=i+1:"endToggle"===H.kind&&(i=z.$47i=i-1),c&&c.contains(z)?(D="leftTop",T=c):a&&a.contains(z)?(D="leftBottom",T=a):j&&j.contains(z)?(D="rightTop",T=j):d&&d.contains(z)&&(D="rightBottom",T=d),"beginToggle"===H.kind&&D&&1===i?(c=(I=V()).style,S=T.$49i,a="each",c.fontSize="0",c.position="absolute",c.width="100%","leftTop"===D?(c.left=0,c.top=0):"leftBottom"===D?(c.left=0,c.bottom=0,"v"===S&&(a="reverseEach")):"rightTop"===D?(c.right=0,c.top=0,c.textAlign="right","h"===S&&(a="reverseEach")):"rightBottom"===D&&(c.right=0,c.bottom=0,c.textAlign="right",a="reverseEach"),T[a](function(H){var H=H.getView(),B=H.style,z=V();B.position="static",z.style.textAlign="left",z.style.position="relative",z.style.display="inline-block","leftTop"===D?(z.style.marginLeft=W.hGap+f,z.style.marginTop=W.vGap+f):"leftBottom"===D?(z.style.marginLeft=W.hGap+f,z.style.marginBottom=W.vGap+f):"rightTop"===D?(z.style.marginRight=W.hGap+f,z.style.marginTop=W.vGap+f):"rightBottom"===D&&(z.style.marginRight=W.hGap+f,z.style.marginBottom=W.vGap+f),z.appendChild(H),I.appendChild(z),"h"===S?z.style.verticalAlign="leftTop"===D||"rightTop"===D?"top":"bottom":I.appendChild(x("br"))}),B.$54i=I,w.appendChild(I)):"endToggle"===H.kind&&D&&0===i?h(function(){(w=w.parentNode.parentNode).removeChild(B.$54i),delete B.$54i,T.each(function(H){H=H.getView();H.style.position="absolute",w.appendChild(H)}),B.layoutPanels(w,D)},30):"beginRestore"!==H.kind&&"endMinimize"!==H.kind&&"endResize"!==H.kind||D&&B.layoutPanels(w,D))},handlePanelMove:function(H){var E,F,P,g,B,z,w,K,X,l,j,d,W,D,T,N,O,f,C,p,$,L,i;H.kind.indexOf("Move")<0||(j=(E=this)._config,F=j.hGap||0,P=j.vGap||0,z=(B=(j=(g=H.target)._view).getBoundingClientRect()).width,w=B.height,K=z/2,X=w/2,l=j.parentNode,j=E.$43i,d=E.$44i,W=E.$45i,D=E.$46i,T=l.getBoundingClientRect(),N=E._tolerance,"endMove"===H.kind&&((i=E._corner)&&(g.setPositionRelativeTo(i),E.layoutPanels(l,i)),delete E._corner),"betweenMove"===H.kind&&(O=T.left,f=T.top,C=T.width,p=T.height,$=B.left+z/2,L=B.top+w/2,j==o&&(j=E.$43i=new I.List),W==o&&(W=E.$45i=new I.List),d==o&&(d=E.$44i=new I.List),D==o&&(D=E.$46i=new I.List),delete E._corner,j.contains(g)?(j.remove(g),E.layoutPanels(l,"leftTop")):W.contains(g)?(W.remove(g),E.layoutPanels(l,"leftBottom")):d.contains(g)?(d.remove(g),E.layoutPanels(l,"rightTop")):D.contains(g)&&(D.remove(g),E.layoutPanels(l,"rightBottom")),(i=function(H,B){var z=O+F,w=f+P;if(0===B.size()){var j=z+K,d=w+X,W=("leftBottom"===H?d=f+p-P-X:"rightTop"===H?j=O+C-F-K:"rightBottom"===H&&(j=O+C-F-K,d=f+p-P-X),$-j),D=L-d;if((m=Math.sqrt(W*W+D*D))<N)return E._corner=H,B.add(g),E.layoutPanels(l,H,0),!0}else if(1===B.size()){var T=B.get(0).getView().getBoundingClientRect(),i=T.left+K,I=T.top+X,c=T.left+T.width+F+K,S=w+X,a=z+K,_=T.top+T.height+P+X,T=("leftBottom"===H?(I=T.top+T.height-X,S=f+p-P-X,_=T.top-P-X):"rightTop"===H?(i=T.left+T.width-K,c=T.left-F-K,a=O+C-F-K):"rightBottom"===H&&(i=T.left+T.width-K,I=T.top+T.height-X,c=T.left-F-K,S=f+p-P-X,a=O+C-F-K,_=T.top-P-X),$-i),i=L-I,I=$-c,c=L-S,S=$-a,a=L-_,_=s(Math.sqrt(T*T+i*i)),T=s(Math.sqrt(I*I+c*c)),i=s(Math.sqrt(S*S+a*a)),I=[_,T,i];if(I.sort(function(H,B){return H-B}),(c=I[0])<N)return E._corner=H,c===_?(B.add(g,0),E.layoutPanels(l,H,0),!0):c===T?(B.add(g),B.$49i="h",E.layoutPanels(l,H,1),!0):c===i?(B.add(g),B.$49i="v",E.layoutPanels(l,H,1),!0):void 0}else if(1<B.size()){for(var R=o,t={},x=[],S=B.$49i,V=0;V<B.size();V++){var m,Z=B.get(V).getView().getBoundingClientRect(),Q=Z.left+K,y=Z.top+X,W=("leftBottom"===H?y=Z.top+Z.height-X:"rightTop"===H?Q=Z.left+Z.width-K:"rightBottom"===H&&(Q=Z.left+Z.width-K,y=Z.top+Z.height-X),V===B.size()-1&&(R=Z),$-Q),D=L-y;t[m=s(Math.sqrt(W*W+D*D))]=V,x.push(m)}if("leftTop"===H&&"h"===S?(j=R.left+R.width+F+K,d=w+X):"leftTop"===H&&"v"===S?(j=z+K,d=R.top+R.height+P+X):"leftBottom"===H&&"h"===S?(j=R.left+R.width+F+K,d=f+p-P-X):"leftBottom"===H&&"v"===S?(j=z+K,d=R.top-P-X):"rightTop"===H&&"h"===S?(j=R.left-F-K,d=w+X):"rightTop"===H&&"v"===S?(j=O+C-F-K,d=R.top+R.height+P+X):"rightBottom"===H&&"h"===S?(j=R.left-F-K,d=f+p-P-X):"rightBottom"===H&&"v"===S&&(j=O+C-F-K,d=R.top-P-X),W=$-j,D=L-d,t[m=s(Math.sqrt(W*W+D*D))]=V,x.push(m),x.sort(function(H,B){return H-B}),(c=x[0])<N)return E._corner=H,B.add(g,t[c]),E.layoutPanels(l,H,t[c]),!0}})("leftTop",j)||i("leftBottom",W)||i("rightTop",d)||i("rightBottom",D)))}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);